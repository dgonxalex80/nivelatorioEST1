<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="dgonzalez80" />

<meta name="date" content="2022-11-10" />

<title>Tablas de frecuencia</title>

<script src="site_libs/header-attrs-2.17/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Análisis de exploratorio de datos</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="recurso207.html">Tablas</a>
</li>
<li>
  <a href="recurso202.html">Ind.de posición</a>
</li>
<li>
  <a href="recurso203.html">Ind.de centro</a>
</li>
<li>
  <a href="recurso204.html">Ind.de variabilidad</a>
</li>
<li>
  <a href="recurso205.html">Ind.de forma</a>
</li>
<li>
  <a href="recurso206.html">Repr.gráfica</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Tablas de frecuencia</h1>
<h4 class="author">dgonzalez80</h4>
<h4 class="date">2022-11-10</h4>

</div>


<p></br></p>
<p>Una de las herramientas más utilizadas para la revisión inicial de
los datos la conforman las <strong>tablas de frecuencia</strong>, las
cuales permiten resumir los valores en unos pocos contabilizando sus
frecuencias, ademas de detectar de problemas como datos faltantes (NAs)
o incosistencias como valores escritos de difente forma</p>
<p></br></br></p>
<p><strong>Ejemplo 1</strong></p>
<p>La base de datos Casos positivos de COVID-19 en Colombia ubicada en
la plataforma de DATOS ABIERTOS se puede descargar directamente con el
siguiente código</p>
<p></br></p>
<pre class="r"><code># Código para bajar data Covid-19 Colombia
install.packages(&quot;RSocrata&quot;, dependencies = TRUE)   # instalación de paquete RSocrata
library(RSocrata)    # llamado de lib&quot;data/Colombia.RDS&quot;reria
token &lt;- &quot;zxMsD6eXc0zlEMryRGW87Hwrz&quot;  # token personal que se puede solicitar en la página
Colombia &lt;- read.socrata(&quot;https://www.datos.gov.co/resource/gt2j-8ykr.json&quot;, app_token = token) # lectura 
saveRDS(Colombia, file = &quot;data/Colombia.RDS&quot;)  # guardar base con modificaciones</code></pre>
<p></br></br></p>
<p>Una tabla de la variable ubicación permite detectar valores de una
misma categoria escritos de manera diferente :</p>
<pre class="r"><code>table(Colombia$ubicacion)</code></pre>
<pre><code>## 
##         casa         Casa         CASA    Fallecido     Hospital Hospital UCI 
##        27689      6107510            7       141862          179           19 
##          N/A 
##        34093</code></pre>
<p></br></p>
<pre class="r"><code>table(Colombia$sexo)</code></pre>
<pre><code>## 
##       f       F       m       M 
##       6 3370605       6 2940742</code></pre>
<p></br></p>
<p>En este caso se puede arreglar el problema mediante la funcion
<code>str_to_lower()</code> del paquete <code>stringr</code></p>
<pre class="r"><code>library(stringr)
Colombia$ubicacionA &lt;- str_to_lower(Colombia$ubicacion) # pasar a minusculas todos valores 
Colombia$ubicacionA[Colombia$ubicacionA==&quot;n/a&quot;]=NA   # cambiar el valor  n/a por NA - valores faltantes

Colombia$sexoA &lt;- str_to_lower(Colombia$sexo) # pasar a minusculas todos valores 
Colombia$sexoA[Colombia$sexoA==&quot;n/a&quot;]=NA   # cambiar el valor  n/a por NA - valores faltantes

table(Colombia$ubicacionA)</code></pre>
<pre><code>## 
##         casa    fallecido     hospital hospital uci 
##      6135206       141862          179           19</code></pre>
<pre class="r"><code>table(Colombia$sexoA)</code></pre>
<pre><code>## 
##       f       m 
## 3370611 2940748</code></pre>
<p></br></br></p>
<p>Además de los problemas detectados la información resumida permite
visualizar que actualmente están reportados 19 casos en cuidado UCI y
que a la fecha han fallecido en Colombia a causa del Civid-19 141862
personas</p>
<p></br></p>
<p>Tambien es posible realizar una tabla cruzada a partir de dos
variables cualitativas en este caso de escala nominal</p>
<pre class="r"><code>table(Colombia$ubicacionA, Colombia$sexoA)</code></pre>
<pre><code>##               
##                      f       m
##   casa         3299440 2835766
##   fallecido      55817   86045
##   hospital          76     103
##   hospital uci       8      11</code></pre>
<p></br></br></p>
<p>La información anterior corresponde a distribuciones de frecuencia
absolutas que se expresan en termino de número de personas, pero tambien
es importante realizar el analisis en porcentaje dado que puede dar una
idea de lo que representa una categoria en relación con el total en este
caso de positivos de Covid-19</p>
<pre class="r"><code>t=round(table(Colombia$ubicacionA, Colombia$sexoA)*100, 2)
t/sum(t)</code></pre>
<pre><code>##               
##                           f            m
##   casa         5.256174e-01 4.517518e-01
##   fallecido    8.891928e-03 1.370740e-02
##   hospital     1.210718e-05 1.640842e-05
##   hospital uci 1.274440e-06 1.752355e-06</code></pre>
<p></br></p>
<p>Una mejor representación se puede realizar a traves de la funcion
freq del paquete summarytools</p>
<pre class="r"><code>install.packages(&quot;remotes&quot;)        # se puede tambien utulizar el paquete devtools
library(remotes)
install_github(&quot;dcomtois/summarytools&quot;, build_vignettes = TRUE) # descarga paquete summarytools</code></pre>
<p></br></br></p>
<pre class="r"><code>summarytools::freq(Colombia$ubicacionA, cumul = FALSE)</code></pre>
<pre><code>## Frequencies  
## 
##                         Freq    % Valid    % Total
## ------------------ --------- ---------- ----------
##               casa   6135206    97.7369    97.2090
##          fallecido    141862     2.2599     2.2477
##           hospital       179     0.0029     0.0028
##       hospital uci        19     0.0003     0.0003
##               &lt;NA&gt;     34093                0.5402
##              Total   6311359   100.0000   100.0000</code></pre>
<p>En este caso pordemos decir que los fallecidos en Colombia
corresponden al 2.24% del total de infectados</p>
<p></br></br></p>
<pre class="r"><code>ev=c(&quot;1-Muy regular&quot;, &quot;2-Regular&quot;, &quot;3-Bueno&quot;, &quot;4-Muy bueno&quot;,&quot;5-Excelente&quot;)
califica=sample(ev, 1000, replace = TRUE, prob = c(0.04,0.08,0.12,0.43,0.32))
summarytools::freq(califica)</code></pre>
<pre><code>## Frequencies  
## 
##                       Freq   % Valid   % Valid Cum.   % Total   % Total Cum.
## ------------------- ------ --------- -------------- --------- --------------
##       1-Muy regular     46      4.60           4.60      4.60           4.60
##           2-Regular     80      8.00          12.60      8.00          12.60
##             3-Bueno    125     12.50          25.10     12.50          25.10
##         4-Muy bueno    418     41.80          66.90     41.80          66.90
##         5-Excelente    331     33.10         100.00     33.10         100.00
##                &lt;NA&gt;      0                               0.00         100.00
##               Total   1000    100.00         100.00    100.00         100.00</code></pre>
<p>Note que en este caso se genera una columna adicional que corresponde
a la frecuencia acumulada, que en este caso tiene sentido dado que la
variable tiene una escala ordinal</p>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
